# StackKit Atlantis ì„¤ì • íŒŒì¼
# ì´ íŒŒì¼ì„ ìˆ˜ì •í•˜ì—¬ ë‹¹ì‹ ì˜ ì¡°ì§ì— ë§ê²Œ ì„¤ì •í•˜ì„¸ìš”

organization:
  name: "mycompany"  # ğŸ“ í•„ìˆ˜: ì¡°ì§ ì´ë¦„ (AWS ë¦¬ì†ŒìŠ¤ ëª…ëª…ì— ì‚¬ìš©)
  domain: ""         # ì„ íƒ: ì»¤ìŠ¤í…€ ë„ë©”ì¸ (ì˜ˆ: atlantis.mycompany.com)

environment:
  name: "dev"        # ğŸ“ í•„ìˆ˜: í™˜ê²½ ì´ë¦„ (dev, staging, prod)
  region: "ap-northeast-2"  # AWS ë¦¬ì „

# ê¸°ì¡´ AWS ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ì„¤ì • (ì„ íƒì‚¬í•­)
existing_resources:
  # VPC ì„¤ì • - ê¸°ì¡´ VPC ì‚¬ìš©í•˜ë ¤ë©´ enable: true
  vpc:
    enable: false           # trueë¡œ ë³€ê²½í•˜ë©´ ê¸°ì¡´ VPC ì‚¬ìš©
    vpc_id: ""             # ê¸°ì¡´ VPC ID (ì˜ˆ: vpc-12345678)
    public_subnet_ids:      # í¼ë¸”ë¦­ ì„œë¸Œë„· ID ë¦¬ìŠ¤íŠ¸
      - "subnet-12345678"
      - "subnet-87654321"
    private_subnet_ids:     # í”„ë¼ì´ë¹— ì„œë¸Œë„· ID ë¦¬ìŠ¤íŠ¸  
      - "subnet-abcdefgh"
      - "subnet-hijklmno"
  
  # S3 ë²„í‚· - ê¸°ì¡´ ë²„í‚· ì‚¬ìš©í•˜ë ¤ë©´ enable: true
  s3:
    enable: false           # trueë¡œ ë³€ê²½í•˜ë©´ ê¸°ì¡´ ë²„í‚· ì‚¬ìš©
    bucket_name: ""        # ê¸°ì¡´ S3 ë²„í‚·ëª… (ì˜ˆ: my-terraform-state)
  
  # DynamoDB - ê¸°ì¡´ í…Œì´ë¸” ì‚¬ìš©í•˜ë ¤ë©´ enable: true
  dynamodb:
    enable: false           # trueë¡œ ë³€ê²½í•˜ë©´ ê¸°ì¡´ í…Œì´ë¸” ì‚¬ìš©
    table_name: ""         # ê¸°ì¡´ DynamoDB í…Œì´ë¸”ëª… (ì˜ˆ: terraform-locks)

# GitHub ì„¤ì •
github:
  # ê´€ë¦¬í•  ë ˆí¬ì§€í† ë¦¬ íŒ¨í„´ (Atlantisê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë ˆí¬ë“¤)
  repository_patterns:
    - "github.com/mycompany/*"
    - "github.com/mycompany/team-*"
  
  # Webhook ì„¤ì • (ìë™ìœ¼ë¡œ ì„¤ì •ë¨)
  auto_webhook: true

# AI ë¦¬ë·°ì–´ ì„¤ì •
ai_reviewer:
  model: "gpt-4o-mini"      # OpenAI ëª¨ë¸
  language: "korean"        # ë¦¬ë·° ì–¸ì–´ (korean, english)
  cost_threshold: 1000      # ë¹„ìš© ê²½ê³  ì„ê³„ê°’ (USD)
  
  # ê²€í† í•  í•­ëª©ë“¤
  review_items:
    - security          # ë³´ì•ˆ ì·¨ì•½ì 
    - cost             # ë¹„ìš© ë¶„ì„
    - best_practices   # AWS ëª¨ë²”ì‚¬ë¡€
    - performance      # ì„±ëŠ¥ ìµœì í™”

# Atlantis ê³ ê¸‰ ì„¤ì •
atlantis:
  # ìŠ¹ì¸ ìš”êµ¬ì‚¬í•­ (í™˜ê²½ë³„)
  approval_requirements:
    dev:
      - mergeable
    staging:
      - approved
      - mergeable
    prod:
      - approved
      - mergeable
      
  # ë³‘ë ¬ ì‹¤í–‰ ì„¤ì •
  parallel_plan: true
  parallel_apply: false
  
  # ìë™ ë¨¸ì§€ ì„¤ì •
  auto_merge_after_apply: false

# ì•Œë¦¼ ì„¤ì •
notifications:
  slack:
    enabled: true
    channels:
      success: "#infrastructure"
      failure: "#alerts"
      review: "#code-review"
  
  email:
    enabled: false
    recipients: []

# ë¹„ìš© ê´€ë¦¬
cost_management:
  # í™˜ê²½ë³„ ë¹„ìš© í•œë„
  monthly_limits:
    dev: 500      # USD
    staging: 2000
    prod: 10000
  
  # ë¹„ìš© ì´ˆê³¼ ì‹œ ë™ì‘
  on_cost_exceeded: "warn"  # warn, block

# ë³´ì•ˆ ì •ì±…
security:
  # í•„ìˆ˜ íƒœê·¸
  required_tags:
    - "Project"
    - "Environment"
    - "Owner"
  
  # ê¸ˆì§€ëœ ë¦¬ì†ŒìŠ¤ íƒ€ì…
  blocked_resources: []
  
  # VPC ì™¸ë¶€ ì ‘ê·¼ ì œí•œ
  block_public_access: true

# í™•ì¥ ì„¤ì •
extensions:
  # ì‚¬ìš©ì ì •ì˜ ì •ì±… íŒŒì¼ë“¤
  custom_policies: []
  
  # ì¶”ê°€ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
  validation_scripts: []
  
  # ì‚¬ìš©ì ì •ì˜ ì•Œë¦¼ Webhook
  custom_webhooks: []

# ì˜ˆì‹œ ì„¤ì • (ì‹¤ì œ ê°’ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”)
# existing_resources:
#   vpc:
#     enable: true
#     vpc_id: "vpc-0a1b2c3d4e5f6g7h8"
#     public_subnet_ids:
#       - "subnet-0123456789abcdef0"
#       - "subnet-fedcba9876543210f"
#     private_subnet_ids:
#       - "subnet-0a1b2c3d4e5f6g7h8"
#       - "subnet-8h7g6f5e4d3c2b1a0"
#   s3:
#     enable: true
#     bucket_name: "my-company-terraform-state-bucket"
#   dynamodb:
#     enable: true
#     table_name: "my-terraform-state-locks"